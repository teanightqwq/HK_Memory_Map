<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç®¡ç†å“¡ç™»å…¥ - é¦™æ¸¯è¨˜æ†¶åœ°åœ–</title>
    <link rel="stylesheet" href="../../styles/main.css">
</head>
<body>
    <header>
        <nav class="navbar">
            <div class="nav-container">
                <h1 class="logo"><a href="../../index.html">ğŸ—ºï¸ é¦™æ¸¯è¨˜æ†¶åœ°åœ–</a></h1>
            </div>
        </nav>
    </header>

    <main>
        <section class="auth-section">
            <div class="auth-container">
                <div class="auth-box admin-box">
                    <div class="admin-badge">ğŸ”’ ç®¡ç†å“¡å°ˆå€</div>
                    <h2>ç®¡ç†å“¡ç™»å…¥</h2>
                    <p class="subtitle">è«‹ä½¿ç”¨ç®¡ç†å“¡å¸³æˆ¶ç™»å…¥ç³»çµ±</p>

                    <form id="adminLoginForm" class="auth-form">
                        <div class="form-group">
                            <label for="username">ç®¡ç†å“¡å¸³è™Ÿ</label>
                            <input type="text" id="username" placeholder="è«‹è¼¸å…¥ç®¡ç†å“¡å¸³è™Ÿ" required>
                        </div>

                        <div class="form-group">
                            <label for="password">å¯†ç¢¼</label>
                            <input type="password" id="password" placeholder="è«‹è¼¸å…¥å¯†ç¢¼" required>
                        </div>

                        <div class="form-group checkbox-group">
                            <input type="checkbox" id="rememberMe">
                            <label for="rememberMe">è¨˜ä½ç™»å…¥ç‹€æ…‹</label>
                        </div>

                        <button type="submit" class="btn-primary btn-full">ç™»å…¥ç®¡ç†å¾Œå°</button>
                    </form>
                    
                    <div class="demo-account">
                        <p>æ¸¬è©¦å¸³è™Ÿï¼š</p>
                        <p>ç®¡ç†å“¡ï¼šadmin / admin123456</p>
                        <p>å¯©æ ¸å“¡ï¼šreviewer / review123456</p>
                    </div>

                    <div class="auth-footer">
                        <a href="../login.html">â† è¿”å›ç”¨æˆ¶ç™»å…¥</a>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 é¦™æ¸¯è¨˜æ†¶åœ°åœ– Hong Kong Memory Map. ä¿ç•™æ‰€æœ‰æ¬Šåˆ©ã€‚</p>
        </div>
    </footer>

    <script src="../../scripts/admin-auth.js"></script>
    <script>
        // è¯Šæ–­è„šæœ¬ï¼šæ£€æŸ¥ admin-auth.js æ˜¯å¦æ­£ç¡®åŠ è½½
        console.log('====================================');
        console.log('ğŸ” ç®¡ç†å“¡ç™»å…¥é é¢è¨ºæ–·ä¿¡æ¯');
        console.log('====================================');
        console.log('1. ç•¶å‰é é¢:', window.location.href);
        console.log('2. handleAdminLogin å‡½æ•¸å­˜åœ¨?', typeof handleAdminLogin !== 'undefined');
        console.log('3. checkAdminLogin å‡½æ•¸å­˜åœ¨?', typeof checkAdminLogin !== 'undefined');
        console.log('4. initializeAdminAccounts å‡½æ•¸å­˜åœ¨?', typeof initializeAdminAccounts !== 'undefined');
        
        // æ£€æŸ¥è¡¨å•æ˜¯å¦å­˜åœ¨
        window.addEventListener('DOMContentLoaded', function() {
            console.log('5. DOM å·²åŠ è¼‰');
            
            const form = document.getElementById('adminLoginForm');
            console.log('6. è¡¨å–®å…ƒç´ å­˜åœ¨?', form !== null);
            
            if (form) {
                console.log('7. è¡¨å–®å·²ç¶å®š submit äº‹ä»¶?', form.onsubmit !== null);
                
                // ğŸ”§ æ‰‹åŠ¨å†æ¬¡ç»‘å®šä¸€æ¬¡äº‹ä»¶ï¼ˆä»¥é˜²ä¸‡ä¸€ï¼‰
                console.log('ğŸ”§ æ‰‹å‹•ç¶å®š submit äº‹ä»¶ï¼ˆå‚™ç”¨ï¼‰');
                form.addEventListener('submit', function(e) {
                    console.log('ğŸ¯ è¡¨å–® submit äº‹ä»¶è§¸ç™¼ï¼ï¼ˆæ‰‹å‹•ç¶å®šç‰ˆæœ¬ï¼‰');
                    if (typeof handleAdminLogin === 'function') {
                        handleAdminLogin(e);
                    } else {
                        console.error('âŒ handleAdminLogin å‡½æ•¸ä¸å­˜åœ¨ï¼');
                    }
                }, true); // ä½¿ç”¨æ•è·é˜¶æ®µï¼Œä¼˜å…ˆçº§æ›´é«˜
                
                console.log('âœ… æ‰‹å‹•ç¶å®šå®Œæˆ');
            }
            
            // æ£€æŸ¥ç®¡ç†å‘˜æ•°æ®åº“
            const admins = JSON.parse(localStorage.getItem('admins')) || [];
            console.log('9. ç®¡ç†å“¡æ•¸æ“šåº«:', admins.length, 'å€‹ç®¡ç†å“¡');
            if (admins.length > 0) {
                console.log('   å¯ç”¨å¸³è™Ÿ:', admins.map(a => a.username).join(', '));
            }
            
            // æ£€æŸ¥å½“å‰ä¼šè¯
            const localSession = localStorage.getItem('adminSession');
            const sessionSession = sessionStorage.getItem('adminSession');
            console.log('10. ç•¶å‰ LocalStorage æœƒè©±:', localSession ? 'å­˜åœ¨' : 'ä¸å­˜åœ¨');
            console.log('11. ç•¶å‰ SessionStorage æœƒè©±:', sessionSession ? 'å­˜åœ¨' : 'ä¸å­˜åœ¨');
            
            console.log('====================================');
            console.log('ğŸ’¡ å¦‚æœçœ‹åˆ°é€™äº›ä¿¡æ¯ï¼Œèªªæ˜è¨ºæ–·è…³æœ¬æ­£å¸¸é‹è¡Œ');
            console.log('ğŸ’¡ è«‹å˜—è©¦ç™»éŒ„ï¼Œç„¶å¾ŒæŸ¥çœ‹æ˜¯å¦æœ‰æ–°çš„æ—¥èªŒè¼¸å‡º');
            console.log('====================================');
        });
    </script>
</body>
</html>
